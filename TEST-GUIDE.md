# 테스트 가이드

## 테스트 환경 설정

### 1. 개발 서버 실행
```bash
cd C:\projects\meeting
npm run dev
```

### 2. 브라우저 탭 준비
테스트를 위해 **최소 4개의 브라우저 탭**을 준비하세요:
- **탭 1**: 호스트 관리 (`/host`)
- **탭 2**: 호스트 화면 (`/room/[code]/host`) - TV/아이패드 시뮬레이션
- **탭 3-5**: 참가자 화면 (`/room/[code]/vote`) - 3개 가족 시뮬레이션

## 단계별 테스트 시나리오

### 시나리오 1: 기본 플로우 테스트

#### 1단계: 방 생성 및 준비
1. **탭 1**에서 `/host` 접속
2. "새 방 만들기" 클릭
3. 방 코드 확인 (예: `24591`)
4. 이미지 URL 3-9개 입력 (테스트용)
   - Imgur에서 이미지 업로드 후 URL 복사
   - 또는 테스트용 이미지 URL 사용
5. "라운드 생성하기" 클릭
6. ✅ "준비 완료!" 메시지 확인

#### 2단계: 참가자 참여
1. **탭 3**에서 `/join` 접속
2. 방 코드 입력 (예: `24591`)
3. "참여하기" 클릭
4. "신랑네" 선택
5. **탭 4**에서 같은 과정으로 "신부네" 선택
6. **탭 5**에서 같은 과정으로 "우리부부" 선택

#### 3단계: 호스트 화면 준비
1. **탭 1**에서 "호스트 화면 열기" 클릭
2. **탭 2**에 호스트 화면이 열림

#### 4단계: 라운드 진행
1. **탭 1**에서 첫 번째 라운드 "시작" 버튼 클릭
2. **탭 2**에서 3장의 사진이 표시되는지 확인
3. **탭 3-5**에서 각 가족이 사진 선택
4. **탭 2**에서 실시간으로 투표 현황 확인
   - 각 가족의 선택이 즉시 표시되어야 함
5. 모든 가족이 투표하면 **탭 1** 또는 **탭 2**에서 "라운드 종료" 클릭
6. 다음 라운드로 자동 진행되는지 확인

#### 5단계: 결과 확인
1. 모든 라운드 완료 후
2. **탭 1**에서 "결과 보기" 클릭
3. 선택된 사진들이 갤러리로 표시되는지 확인

### 시나리오 2: 방 코드 불러오기 테스트

1. **탭 1**에서 방 생성 및 사진 등록 완료
2. 방 코드 기록 (예: `24591`)
3. 브라우저를 닫았다가 다시 열기
4. **탭 1**에서 `/host` 접속
5. "기존 방 불러오기"에 방 코드 입력
6. "불러오기" 클릭
7. 이전에 등록한 사진과 라운드가 표시되는지 확인

### 시나리오 3: 네비게이션 테스트

각 페이지에서 뒤로가기 버튼이 작동하는지 확인:

1. **호스트 페이지** (`/host`)
   - "← 홈으로" 버튼 클릭 → 홈으로 이동 확인

2. **참여 페이지** (`/join`)
   - "← 홈으로" 버튼 클릭 → 홈으로 이동 확인

3. **투표 페이지** (`/room/[code]/vote`)
   - "← 방 코드 다시 입력" 버튼 클릭 → `/join`으로 이동 확인

4. **호스트 화면** (`/room/[code]/host`)
   - "← 호스트 관리로 돌아가기" 버튼 클릭 → `/host`로 이동 확인

5. **결과 페이지** (`/room/[code]/result`)
   - "← 홈으로" 버튼 클릭 → 홈으로 이동 확인

### 시나리오 4: 실시간 동기화 테스트

1. **탭 1**에서 라운드 시작
2. **탭 3-5**에서 각각 다른 사진 선택
3. **탭 2**에서 실시간으로 선택이 반영되는지 확인
   - 각 가족의 선택이 즉시 표시되어야 함
4. **탭 1**에서도 투표 현황이 표시되는지 확인

### 시나리오 5: 에러 처리 테스트

1. **잘못된 방 코드 입력**
   - `/join`에서 존재하지 않는 방 코드 입력
   - 에러 메시지 표시 확인

2. **중복 투표 방지**
   - 같은 가족이 두 번 투표 시도
   - 한 번만 투표 가능한지 확인

3. **라운드 종료 조건**
   - 모든 가족이 투표하기 전에 "라운드 종료" 클릭
   - 에러 메시지 표시 확인

## 체크리스트

### 기능 테스트
- [ ] 방 생성 및 방 코드 표시
- [ ] 방 코드로 기존 방 불러오기
- [ ] 사진 등록 (최대 30장)
- [ ] 라운드 자동 생성
- [ ] 참가자 참여 및 가족 선택
- [ ] 라운드 시작
- [ ] 실시간 투표 현황 표시
- [ ] 라운드 종료 및 승리 사진 선택
- [ ] 다음 라운드 자동 진행
- [ ] 최종 결과 갤러리 표시

### UI/UX 테스트
- [ ] 모든 페이지에 네비게이션 버튼 표시
- [ ] 뒤로가기 버튼 작동 확인
- [ ] 모바일 화면에서도 사용 가능한지 확인
- [ ] 로딩 상태 표시
- [ ] 에러 메시지 표시

### 실시간 기능 테스트
- [ ] 라운드 시작 시 모든 참가자 화면에 즉시 반영
- [ ] 투표 시 호스트 화면에 즉시 반영
- [ ] 라운드 종료 시 모든 참가자 화면에 즉시 반영

## 문제 해결

### 실시간 동기화가 안 될 때
- Supabase Realtime이 활성화되어 있는지 확인
- 브라우저 콘솔에서 에러 확인
- 네트워크 연결 확인

### 투표가 반영되지 않을 때
- 브라우저 콘솔에서 에러 확인
- Supabase 데이터베이스에서 직접 확인
- 페이지 새로고침

### 방을 불러올 수 없을 때
- 방 코드가 정확한지 확인
- Supabase 데이터베이스에서 방이 존재하는지 확인

## 테스트 팁

1. **개발자 도구 활용**
   - F12로 브라우저 개발자 도구 열기
   - Console 탭에서 에러 확인
   - Network 탭에서 API 호출 확인

2. **여러 브라우저 사용**
   - Chrome, Edge, Firefox 등 다른 브라우저에서 테스트
   - 모바일 브라우저에서도 테스트

3. **데이터베이스 직접 확인**
   - Supabase 대시보드에서 테이블 데이터 확인
   - 실시간으로 데이터 변경 확인

4. **단계별 저장**
   - 각 단계마다 스크린샷 저장
   - 문제 발생 시 이전 단계로 돌아가기 용이

